/* Copyright 2018 MechMerlin
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

/* MY NOTE
 * Make command:
 * $> make idobo:ta-hc:dfu
 * ## Press Adjust+Esc
 */

#include QMK_KEYBOARD_H
#include "common.h"
#include "layers.h"
#include "layouts.h"
#include "shortwrites.h"

enum preonic_layers {
  NEW_START = _CP,
  _OLDFN
};

#define LAYOUT  LAYOUT_ortho_5x15

#define RAISE   MO(_RAISE)
#define OFN(kc) kc == 0 ? MO(_OLDFN) : LT(_OLDFN, (kc))


const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

/* QWERTY
 * .--------------------------------------------------------------------------------------------------------------------------------------.
 * |   `    | 1      | 2      | 3      | 4      | 5      | -      |  ESC   | =      | 6      | 7      | 8      | 9      | 0      |  DEL   |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+-----------------|
 * | TAB/FN | Q      | W      | E      | R      | T      |  PgDn  |   ↑    |  PgDn  | Y      | U      | I      | O      | P      | BACKSP |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+-----------------+--------|
 * |    Ĉ   | A      | S      | D      | F      | G      |   ←    |   ↓    |   →    | H      | J      | K      | L      | ;      |  '/Ĉ   |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------------------------+--------|
 * |    ⇧   | Z      | X      | C      | V      | B      |  Home  | ENTER  |  End   | N      | M      | ,      | .      | /      |   R⇧   |
 * |--------+--------+--------+--------+--------+-----------------+--------+--------+--------+--------+-----------------+--------+--------|
 * | BS/Ĉ⇧  | LGUI   | LALT   | Digit  | SPACE  | SPACE  | MIDDLE |  F23   |   R⇧   | SPACE  | RAISE  |   FN   | RALT   | RGUI   | ENTER  |
 * '--------------------------------------------------------------------------------------------------------------------------------------'
 */

 [_QWERTY] = LAYOUT_wrapper(
    KC_GRV,  KC_1,    KC_2,    KC_3,   KC_4,    KC_5,     KC_MINS, KC_ESC,  KC_EQL,    KC_6,   KC_7,    KC_8,    KC_9,    KC_0,    KC_DEL,   
                      QWERTY_L1_______,                   KC_PGUP, KC_UP,   KC_PGDN,                    QWERTY_R1_______,
                      QWERTY_L2_______,                   KC_LEFT, KC_DOWN, KC_RGHT,                    QWERTY_R2_______,
                      QWERTY_L3_______,                   KC_HOME, KC_ENT,  KC_END,                     QWERTY_R3_______,
                      QWERTY_L4_______,                   DIG(0),  OFN(0),  KC_RSFT,                    QWERTY_R4_______
 ),

[_GAME] = LAYOUT_wrapper(
  KC_GRV,  KC_1,    KC_2,    KC_3,    KC_4,    KC_5,      KC_6,    _______, _______,    KC_6,    KC_7,    KC_8,    KC_9,    KC_0,    KC_DEL,
                    GAME_L1_________,                     KC_Y,    _______, _______,                      GAME_R1_________,
                    GAME_L2_________,                     KC_H,    _______, _______,                      GAME_R2_________,
                    GAME_L3_________,                     KC_N,    _______, _______,                      GAME_R3_________,
                    GAME_L4_________,                     KC_SPC,  _______, _______,                      GAME_R4_________
),

[_DEADSCLN] = LAYOUT_wrapper(
  _______, _______, _______, _______, _______, _______,   _______, _______, _______,    _______, _______, _______, _______, _______, _______,
                    DEADSCLN_L1_____,                     _______, _______, _______,                      DEADSCLN_R1_____,
                    DEADSCLN_L2_____,                     _______, _______, _______,                      DEADSCLN_R2_____,
                    DEADSCLN_L3_____,                     _______, _______, _______,                      DEADSCLN_R3_____,
                    DEADSCLN_L4_____,                     _______, _______, _______,                      DEADSCLN_R4_____
),

 /* LOWER
 * .--------------------------------------------------------------------------------------------------------------------------------------.
 * |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------|
 * |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------|
 * |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------|
 * |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------|
 * |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
 * '--------------------------------------------------------------------------------------------------------------------------------------'
 */
  [_LOWER] = LAYOUT_wrapper( 
    _______, _______, _______,  _______, _______,  _______,     _______, _______, _______,    _______, _______, _______, _______, _______, _______,  
                      LOWER_L1________,                         KC_BTN2, KC_MS_U, _______,                      LOWER_R1________,
                      LOWER_L2________,                         KC_MS_L, KC_MS_D, KC_MS_R,                      LOWER_R2________,
                      LOWER_L3________,                         KC_APP,  KC_BTN3, _______,                      LOWER_R3________,
                      LOWER_L3________,                         KC_BTN1, _______, _______,                      LOWER_R4________
  ),

 /* Raise
 * .--------------------------------------------------------------------------------------------------------------------------------------.
 * |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------|
 * |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------|
 * |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------|
 * |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------|
 * |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
 * '--------------------------------------------------------------------------------------------------------------------------------------'
 */
  [_RAISE] = LAYOUT_wrapper(
    _______, _______, _______, _______, _______, _______,     _______, _______, _______,    _______, _______, _______, _______, _______,  _______,  
                      RAISE_L1________,                       _______, KC_MS_U, KC_BTN2,                      RAISE_R1________,
                      RAISE_L2________,                       KC_MS_L, KC_MS_D, KC_MS_R,                      RAISE_R2________,
                      RAISE_L3________,                       _______, KC_BTN3, _______,                      RAISE_R3________,
                      RAISE_L4________,                       _______, _______, KC_BTN1,                      RAISE_R4________
    
  ),

 /* ADJUST
 * .--------------------------------------------------------------------------------------------------------------------------------------.
 * |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------|
 * |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------|
 * |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------|
 * |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------|
 * |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
 * '--------------------------------------------------------------------------------------------------------------------------------------'
 */
  [_ADJUST] = LAYOUT_wrapper( 
    RESET,   _______, _______, _______, _______, _______,   _______, _______, _______,    _______, _______, _______, _______, _______, _______,  
                      ADJUST_L1_______,                     _______, _______, _______,                      ADJUST_R1_______,  
                      ADJUST_L2_______,                     _______, _______, _______,                      ADJUST_R2_______, 
                      ADJUST_L3_______,                     _______, _______, _______,                      ADJUST_R3_______, 
                      ADJUST_L4_______,                     _______, _______, _______,                      ADJUST_R4_______  
  ),
  [_DIGIT] = LAYOUT_wrapper(
    _______, _______, _______, _______, _______, _______,   _______, _______, _______,    _______, _______, _______, _______, _______, _______,  
                      DIGIT_L1________,                     _______, _______, _______,                      DIGIT_R1________,  
                      DIGIT_L2________,                     _______, _______, _______,                      DIGIT_R2________, 
                      DIGIT_L3________,                     _______, _______, _______,                      DIGIT_R3________, 
                      DIGIT_L4________,                     _______, _______, _______,                      DIGIT_R4________  
  ),

  [_FN] = LAYOUT_wrapper(
    _______, _______, _______, _______, _______, _______,   _______, _______, _______,    _______, _______, _______, _______, _______, _______,  
                      FN_L1___________,                     _______, _______, _______,                      FN_R1___________,  
                      FN_L2___________,                     _______, _______, _______,                      FN_R2___________, 
                      FN_L3___________,                     _______, _______, _______,                      FN_R3___________, 
                      FN_L4___________,                     _______, _______, _______,                      FN_R4___________
  ),

  [_GAMF] = LAYOUT_wrapper(
    _______, KC_F1,   KC_F2,   KC_F3,   KC_F4,   KC_F5,   _______, _______, _______,      KC_F6,   KC_F7,   KC_F8,   KC_F9,   KC_F10,  _______,
                      GAMF_L1_________,                   _______, _______, _______,                        GAMF_R1_________,
                      GAMF_L2_________,                   _______, _______, _______,                        GAMF_R2_________,
                      GAMF_L3_________,                   _______, _______, _______,                        GAMF_R3_________,
                      GAMF_L4_________,                   _______, _______, _______,                        GAMF_R4_________
  ),

  // [_LFLIP] = LAYOUT_wrapper(
  //   KC_DEL,  KC_0,    KC_9,    KC_8,    KC_7,    KC_6,      _______, _______, _______,    _______, _______, _______, _______, _______, _______,  
  //                     LFLIP_L1________,                     _______, _______, _______,                      LFLIP_R1________,
  //                     LFLIP_L2________,                     _______, _______, _______,                      LFLIP_R2________,
  //                     LFLIP_L3________,                     _______, _______, _______,                      LFLIP_R3________,
  //                     LFLIP_L4________,                     _______, _______, _______,                      LFLIP_R4________
  // ),

  // [_FNALT] = LAYOUT_wrapper(
  //   _______, _______, _______, _______, _______, _______,   _______, _______, _______,    _______, _______, _______, _______, _______, _______,  
  //                     FN_ALT_L1_______,                     _______, _______, _______,                      FN_ALT_R1_______,  
  //                     FN_ALT_L2_______,                     _______, _______, _______,                      FN_ALT_R2_______, 
  //                     FN_ALT_L3_______,                     _______, _______, _______,                      FN_ALT_R3_______, 
  //                     FN_ALT_L4_______,                     _______, _______, _______,                      FN_ALT_R4_______
  // ),

  // [_FNSFT] = LAYOUT_wrapper(
  //   _______, _______, _______, _______, _______, _______,   _______, _______, _______,    _______, _______, _______, _______, _______, _______,  
  //                     FN_SFT_L1_______,                     _______, _______, _______,                      FN_SFT_R1_______,  
  //                     FN_SFT_L2_______,                     _______, _______, _______,                      FN_SFT_R2_______, 
  //                     FN_SFT_L3_______,                     _______, _______, _______,                      FN_SFT_R3_______, 
  //                     FN_SFT_L4_______,                     _______, _______, _______,                      FN_SFT_R4_______
  // ),
 
  // [_CWIN] = LAYOUT_wrapper(
  //   _______, _______, _______, _______, _______, _______,   _______, _______, _______,    _______, _______, _______, _______, _______, _______,  
  //                     CWIN_L1_________,                     _______, _______, _______,                      CWIN_L1_________,  
  //                     CWIN_L2_________,                     _______, _______, _______,                      CWIN_L2_________, 
  //                     CWIN_L3_________,                     _______, _______, _______,                      CWIN_L3_________, 
  //                     CWIN_L4_________,                     _______, _______, _______,                      CWIN_L4_________  
  // ),
 
  // [_RCWIN] = LAYOUT_wrapper(
  //   _______, _______, _______, _______, _______, _______,   _______, _______, _______,    _______, _______, _______, _______, _______, _______,  
  //                     RCWIN_L1________,                     _______, _______, _______,                      RCWIN_L1________,  
  //                     RCWIN_L2________,                     _______, _______, _______,                      RCWIN_L2________, 
  //                     RCWIN_L3________,                     _______, _______, _______,                      RCWIN_L3________, 
  //                     RCWIN_L4________,                     _______, _______, _______,                      RCWIN_L4________  
  // ),

  // [_RFN] = LAYOUT_wrapper(
  //   _______, _______, _______, _______, _______, _______,   _______, _______, _______,    _______, _______, _______, _______, _______, _______,
  //                     RFN_L1__________,                     _______, _______, _______,                      RFN_R1__________,
  //                     RFN_L2__________,                     _______, _______, _______,                      RFN_R2__________,
  //                     RFN_L3__________,                     _______, _______, _______,                      RFN_R3__________,
  //                     RFN_L4__________,                     _______, _______, _______,                      RFN_R4__________
  // ),

  // [_LMOUSE] = LAYOUT_wrapper(
  //   _______, _______, _______, _______, _______, _______,   _______, _______, _______,    _______, _______, _______, _______, _______, _______,
  //                     LMOUSE_L1_______,                     _______, _______, _______,                      LMOUSE_R1_______,
  //                     LMOUSE_L2_______,                     _______, _______, _______,                      LMOUSE_R2_______,
  //                     LMOUSE_L3_______,                     _______, _______, _______,                      LMOUSE_R3_______,
  //                     LMOUSE_L4_______,                     _______, _______, _______,                      LMOUSE_R4_______
  // ),

  // [_LSYMBL] = LAYOUT_wrapper(
  //   _______, KC_EXLM, KC_AT,   KC_HASH, KC_DLR,  KC_PERC,   _______, _______, _______,    KC_CIRC, KC_AMPR, KC_ASTR, KC_LPRN, KC_RPRN, _______,
  //                     LSYMBOL_L1______,                     _______, _______, _______,                      LSYMBOL_R1______,
  //                     LSYMBOL_L2______,                     _______, _______, _______,                      LSYMBOL_R2______,
  //                     LSYMBOL_L3______,                     _______, _______, _______,                      LSYMBOL_R3______,
  //                     LSYMBOL_L4______,                     _______, _______, _______,                      LSYMBOL_R4______
  // ),

  // [_LOWFAKER] = LAYOUT_wrapper(
  //   _______, _______, _______, _______, _______, _______,   _______, _______, _______,    _______, _______, _______, _______, _______, _______,
  //                     LOWFAKER_L1_____,                     _______, _______, _______,                      LOWFAKER_R1_____,
  //                     LOWFAKER_L2_____,                     _______, _______, _______,                      LOWFAKER_R2_____,
  //                     LOWFAKER_L3_____,                     _______, _______, _______,                      LOWFAKER_R3_____,
  //                     LOWFAKER_L4_____,                     _______, _______, _______,                      LOWFAKER_R4_____
  // ),

/* FUNCTION
 * .--------------------------------------------------------------------------------------------------------------------------------------.
 * | F1     | F2     | F3     | F4     | F5     | F6     | NUM LK | P/     | P*     | F7     | F8     | F9     | F10    | F11    | F12    |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------|
 * | SELECT | CALC   | MYCOMP | MAIL   | RGB HD | RGB HI | P7     | P8     | P9     | -      |        |        | PR SCR | SCR LK | PAUSE  |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------|
 * | PREV   | PLAY   | NEXT   | STOP   | RGB SD | RGB SI | P4     | P5     | P6     | +      |        | RESET  |        |        |        |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------|
 * | VOL-   | MUTE   | VOL+   | APP    | RGB VD | RGB VI | P1     | P2     | P3     | PENT   |        |        |        |        |        |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------|
 * |        |        | RGB TG | FN     | RGB RMD| RGB MD | P0     |        | P.     | PENT   | PENT   | FN     |        |        |        |
 * '--------------------------------------------------------------------------------------------------------------------------------------'
 */
 [_OLDFN] = LAYOUT_wrapper(
    KC_F1,   KC_F2,   KC_F3,   KC_F4,   KC_F5,   KC_F6,   KC_NLCK, KC_SLSH, KC_ASTR, KC_F7,   KC_F8,   KC_F9,   KC_F10,  KC_F11,  KC_F12,  \
    KC_MSEL, KC_CALC, KC_MYCM, KC_MAIL, RGB_HUD, RGB_HUI, KC_P7,   KC_P8,   KC_P9,   KC_MINS, _______, _______, KC_PSCR, KC_SLCK, KC_PAUS, \
    KC_MPRV, KC_MPLY, KC_MNXT, KC_MSTP, RGB_SAD, RGB_SAI, KC_P4,   DF(_GAME),KC_P6,  KC_PLUS, _______, RESET,   _______, _______, _______, \
    KC_VOLD, KC_MUTE, KC_VOLU, KC_APP,  RGB_VAD, RGB_VAI, KC_P1,   KC_P2,   KC_P3,   KC_PENT, _______, _______, _______, _______, _______, \
    _______, _______, RGB_TOG, _______, RGB_RMOD,RGB_MOD, KC_P0,   _______, KC_PDOT, KC_PENT, KC_PENT, _______, _______, _______, _______  \
 ),

 /* Blank
 * .--------------------------------------------------------------------------------------------------------------------------------------.
 * |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------|
 * |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------|
 * |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------|
 * |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
 * |--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------|
 * |        |        |        |        |        |        |        |        |        |        |        |        |        |        |        |
 * '--------------------------------------------------------------------------------------------------------------------------------------'
  [BLANK] = LAYOUT_ortho_5x15( 
    _______, _______, _______, _______, _______, _______,   _______, _______, _______,    _______, _______, _______, _______, _______, _______,  
    _______, _______, _______, _______, _______, _______,   _______, _______, _______,    _______, _______, _______, _______, _______, _______,  
    _______, _______, _______, _______, _______, _______,   _______, _______, _______,    _______, _______, _______, _______, _______, _______, 
    _______, _______, _______, _______, _______, _______,   _______, _______, _______,    _______, _______, _______, _______, _______, _______, 
    _______, _______, _______, _______, _______, _______,   _______, _______, _______,    _______, _______, _______, _______, _______, _______  
  ),
 */
};

bool process_record_keymap(uint16_t keycode, keyrecord_t *record) {
  return true;
}

void led_set_user(uint8_t usb_led) {

}
